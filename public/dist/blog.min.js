/*!
 * Start Bootstrap - Ethan | 博客 v1.0.0 ()
 * Copyright 2013-2018 Ethan
 * Licensed under  ()
 */
jQuery(document).ready(function(t){if(1170<t(window).width()){var i=t("#mainNav").height();t(window).on("scroll",{previousTop:0},function(){var a=t(window).scrollTop();a<this.previousTop?0<a&&t("#mainNav").hasClass("is-fixed")?t("#mainNav").addClass("is-visible"):t("#mainNav").removeClass("is-visible is-fixed"):a>this.previousTop&&(t("#mainNav").removeClass("is-visible"),i<a&&!t("#mainNav").hasClass("is-fixed")&&t("#mainNav").addClass("is-fixed")),this.previousTop=a})}});var CODE={NOT_LOGIN:401,OK:200};$("#myModal").on("show.bs.modal",function(a){var t=$(a.relatedTarget).data("url");$(this).find(".modal-footer a").attr("href",t)}),function(l){var r={init:function(a,t){return r.fillHtml(a,t),void r.bindEvent(a,t)},fillHtml:function(a,t){return function(a,t){var i="";1<t.currPage&&(i+="<li class='prev'><a href='javascript:void(0);'>&laquo;</a></li>"),4<=t.currPage&&4!=t.totalPage&&(i+="<li class='normal'><a href='javascript:void(0);'>1</a></li>"),4<t.currPage&&t.currPage<=t.totalPage&&5<t.totalPage&&(i+="<li><a href='javascript:void(0);'>...</a></li>");var e=t.currPage-2,r=t.currPage+2;for((1<e&&t.currPage<4||1==t.currPage)&&r++,t.currPage>t.totalPage-4&&t.currPage>=t.totalPage&&e--;e<=r;e++)e<=t.totalPage&&1<=e&&(e!=t.currPage?i+="<li class='normal'><a href='javascript:void(0);'>"+e+"</a></li>":i+="<li class='normal active'><a href='javascript:void(0);'>"+e+"</a></li>");t.currPage+2<t.totalPage-1&&1<=t.currPage&&5<t.totalPage&&(i+="<li><a href='javascript:void(0);'>...</a></li>"),t.currPage!=t.totalPage&&t.currPage<t.totalPage-2&&4!=t.totalPage&&(i+="<li class='normal'><a href='javascript:void(0);'>"+t.totalPage+"</a></li>"),t.currPage<t.totalPage&&(i+="<li class='next'><a href='javascript:void(0);'>&raquo;</a></li>"),l(a).find(".pagination").html(i)}(a,t)},bindEvent:function(a,t){return e=t,(i=a).on("click","li.normal",function(a){var t=parseInt(l(this).text());r.fillHtml(i,{currPage:t,totalPage:e.totalPage}),"function"==typeof e.backFn&&e.backFn(t)}),i.on("click","li.prev",function(){var a=parseInt(l(this).parent().find("li.active>a").text());r.fillHtml(i,{currPage:a-1,totalPage:e.totalPage}),"function"==typeof e.backFn&&e.backFn(a-1)}),void i.on("click","li.next",function(){var a=parseInt(l(this).parent().find("li.active>a").text());r.fillHtml(i,{currPage:a+1,totalPage:e.totalPage}),"function"==typeof e.backFn&&e.backFn(a+1)});var i,e}};l.fn.createPage=function(a){r.init(this,a)}}(jQuery),$("textarea").on("keydown",function(a){if(9==a.keyCode){a.preventDefault();var t="    ",i=this.selectionStart,e=this.selectionEnd,r=window.getSelection().toString();r=t+r.replace(/\n/g,"\n"+t),this.value=this.value.substring(0,i)+r+this.value.substring(e),this.setSelectionRange(i+t.length,i+r.length)}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsb2cuanMiLCJtb2RhbC5qcyIsInBhZ2VyLmpzIiwidGV4dGFyZWEuanMiXSwibmFtZXMiOlsialF1ZXJ5IiwiZG9jdW1lbnQiLCJyZWFkeSIsIiQiLCJ3aW5kb3ciLCJ3aWR0aCIsImhlYWRlckhlaWdodCIsImhlaWdodCIsIm9uIiwicHJldmlvdXNUb3AiLCJjdXJyZW50VG9wIiwic2Nyb2xsVG9wIiwidGhpcyIsImhhc0NsYXNzIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsIkNPREUiLCJOT1RfTE9HSU4iLCJPSyIsImUiLCJ1cmwiLCJyZWxhdGVkVGFyZ2V0IiwiZGF0YSIsImZpbmQiLCJhdHRyIiwibXMiLCJpbml0IiwidGFyZ2V0IiwiYXJncyIsImZpbGxIdG1sIiwiYmluZEV2ZW50IiwidG90YWxzdWJwYWdlSHRtbCIsImN1cnJQYWdlIiwidG90YWxQYWdlIiwic3RhcnQiLCJlbmQiLCJodG1sIiwiZXZlbnQiLCJjdXJyZW50IiwicGFyc2VJbnQiLCJ0ZXh0IiwiYmFja0ZuIiwicGFyZW50IiwiZm4iLCJjcmVhdGVQYWdlIiwib3B0aW9ucyIsImtleUNvZGUiLCJwcmV2ZW50RGVmYXVsdCIsImluZGVudCIsInNlbGVjdGlvblN0YXJ0Iiwic2VsZWN0aW9uRW5kIiwic2VsZWN0ZWQiLCJnZXRTZWxlY3Rpb24iLCJ0b1N0cmluZyIsInJlcGxhY2UiLCJ2YWx1ZSIsInN1YnN0cmluZyIsInNldFNlbGVjdGlvblJhbmdlIiwibGVuZ3RoIl0sIm1hcHBpbmdzIjoiOzs7OztBQUtBQSxPQUFBQyxVQUFBQyxNQUFBLFNBQUFDLEdBSUEsR0FIQSxLQUdBQSxFQUFBQyxRQUFBQyxRQUFBLENBQ0EsSUFBQUMsRUFBQUgsRUFBQSxZQUFBSSxTQUNBSixFQUFBQyxRQUFBSSxHQUFBLFNBQUEsQ0FDQUMsWUFBQSxHQUVBLFdBQ0EsSUFBQUMsRUFBQVAsRUFBQUMsUUFBQU8sWUFFQUQsRUFBQUUsS0FBQUgsWUFFQSxFQUFBQyxHQUFBUCxFQUFBLFlBQUFVLFNB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QUFDLEdBQ0FwQixFQUFBQyxLQUFBZCxLQUFBaUMsSUFyR0EsQ0F1R0E3QyxRQ3RHQUcsRUFBQSxZQUFBSyxHQUNBLFVBQ0EsU0FBQVcsR0FDQSxHQUFBLEdBQUFBLEVBQUEyQixRQUFBLENBQ0EzQixFQUFBNEIsaUJBQ0EsSUFBQUMsRUFBQSxPQUNBZCxFQUFBdEIsS0FBQXFDLGVBQ0FkLEVBQUF2QixLQUFBc0MsYUFDQUMsRUFBQS9DLE9BQUFnRCxlQUFBQyxXQUNBRixFQUFBSCxFQUFBRyxFQUFBRyxRQUFBLE1BQUEsS0FBQU4sR0FDQXBDLEtBQUEyQyxNQUFBM0MsS0FBQTJDLE1BQUFDLFVBQUEsRUFBQXRCLEdBQUFpQixFQUNBdkMsS0FBQTJDLE1BQUFDLFVBQUFyQixHQUNBdkIsS0FBQTZDLGtCQUFBdkIsRUFBQWMsRUFBQVUsT0FBQXhCLEVBQ0FpQixFQUFBTyIsImZpbGUiOiJibG9nLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IHNreSBvbiAyMDE3LzYvMTUuXHJcbiAqL1xyXG5cclxuLy8gTmF2aWdhdGlvbiBTY3JpcHRzIHRvIFNob3cgSGVhZGVyIG9uIFNjcm9sbC1VcFxyXG5qUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgkKSB7XHJcbiAgICB2YXIgTVFMID0gMTE3MDtcclxuXHJcbiAgICAvL3ByaW1hcnkgbmF2aWdhdGlvbiBzbGlkZS1pbiBlZmZlY3RcclxuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+IE1RTCkge1xyXG4gICAgICAgIHZhciBoZWFkZXJIZWlnaHQgPSAkKCcjbWFpbk5hdicpLmhlaWdodCgpO1xyXG4gICAgICAgICQod2luZG93KS5vbignc2Nyb2xsJywge1xyXG4gICAgICAgICAgICAgICAgcHJldmlvdXNUb3A6IDBcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XHJcbiAgICAgICAgICAgICAgICAvL2NoZWNrIGlmIHVzZXIgaXMgc2Nyb2xsaW5nIHVwXHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRvcCA8IHRoaXMucHJldmlvdXNUb3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2lmIHNjcm9sbGluZyB1cC4uLlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VG9wID4gMCAmJiAkKCcjbWFpbk5hdicpLmhhc0NsYXNzKCdpcy1maXhlZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNtYWluTmF2JykuYWRkQ2xhc3MoJ2lzLXZpc2libGUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjbWFpbk5hdicpLnJlbW92ZUNsYXNzKCdpcy12aXNpYmxlIGlzLWZpeGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50VG9wID4gdGhpcy5wcmV2aW91c1RvcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgc2Nyb2xsaW5nIGRvd24uLi5cclxuICAgICAgICAgICAgICAgICAgICAkKCcjbWFpbk5hdicpLnJlbW92ZUNsYXNzKCdpcy12aXNpYmxlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUb3AgPiBoZWFkZXJIZWlnaHQgJiYgISQoJyNtYWluTmF2JykuaGFzQ2xhc3MoJ2lzLWZpeGVkJykpICQoJyNtYWluTmF2JykuYWRkQ2xhc3MoJ2lzLWZpeGVkJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZpb3VzVG9wID0gY3VycmVudFRvcDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8g5a6a5LmJ57yW56CB5YC8XHJcbnZhciBDT0RFID0ge1xyXG4gICAgTk9UX0xPR0lOOiA0MDEsXHJcbiAgICBPSzogMjAwXHJcbn0iLCIvKipcclxuICogQ3JlYXRlZCBieSBza3kgb24gMjAxNy82LzIxLlxyXG4gKi9cclxuJChcIiNteU1vZGFsXCIpLm9uKFwic2hvdy5icy5tb2RhbFwiLGZ1bmN0aW9uKGUpe1xyXG4gICAgdmFyIGJ1dHRvbj0kKGUucmVsYXRlZFRhcmdldCk7XHJcbiAgICB2YXIgdXJsPWJ1dHRvbi5kYXRhKFwidXJsXCIpO1xyXG4gICAgJCh0aGlzKS5maW5kKFwiLm1vZGFsLWZvb3RlciBhXCIpLmF0dHIoXCJocmVmXCIsdXJsKTtcclxufSk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IHNreSBvbiAyMDE3LzYvMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24gKCQpIHtcclxuICAgIHZhciBtcyA9IHtcclxuICAgICAgICBpbml0OiBmdW5jdGlvbiAodGFyZ2V0LCBhcmdzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgbXMuZmlsbEh0bWwodGFyZ2V0LCBhcmdzKTtcclxuICAgICAgICAgICAgICAgIG1zLmJpbmRFdmVudCh0YXJnZXQsIGFyZ3MpO1xyXG4gICAgICAgICAgICB9KSgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy/loavlhYVodG1sXHJcbiAgICAgICAgZmlsbEh0bWw6IGZ1bmN0aW9uICh0YXJnZXQsIGFyZ3MpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChmdW5jdGlvbiAodGFyZ2V0LCBhcmdzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdG90YWxzdWJwYWdlSHRtbCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqU1RBUlQqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICAgICAgICAgICAgICBpZiAoYXJncy5jdXJyUGFnZSA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbHN1YnBhZ2VIdG1sICs9IFwiPGxpIGNsYXNzPSdwcmV2Jz48YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCk7Jz4mbGFxdW87PC9hPjwvbGk+XCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8g6aG156CB5aSn5LqO562J5LqONOeahOaXtuWAme+8jOa3u+WKoOesrOS4gOS4qumhteeggeWFg+e0oFxyXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3MuY3VyclBhZ2UgPj0gNCAmJiBhcmdzLnRvdGFsUGFnZSAhPSA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWxzdWJwYWdlSHRtbCArPSBcIjxsaSBjbGFzcz0nbm9ybWFsJz48YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCk7Jz4xPC9hPjwvbGk+XCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiDlvZPliY3pobXnoIE+NCwg5bm25LiUPD3mgLvpobXnoIHvvIzmgLvpobXnoIE+Ne+8jOa3u+WKoOKAnOODu+ODu+ODu+KAnSovXHJcbiAgICAgICAgICAgICAgICBpZiAoYXJncy5jdXJyUGFnZSA+IDQgJiYgYXJncy5jdXJyUGFnZSA8PSBhcmdzLnRvdGFsUGFnZSAmJiBhcmdzLnRvdGFsUGFnZSA+IDUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbHN1YnBhZ2VIdG1sICs9IFwiPGxpPjxhIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKTsnPi4uLjwvYT48L2xpPlwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLyog5b2T5YmN6aG156CB55qE5YmN5Lik6aG1ICovXHJcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSBhcmdzLmN1cnJQYWdlIC0gMjtcclxuICAgICAgICAgICAgICAgIC8qIOW9k+WJjemhteeggeeahOWQjuS4pOmhtSAqL1xyXG4gICAgICAgICAgICAgICAgdmFyIGVuZCA9IGFyZ3MuY3VyclBhZ2UgKyAyO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICgoc3RhcnQgPiAxICYmIGFyZ3MuY3VyclBhZ2UgPCA0KSB8fCBhcmdzLmN1cnJQYWdlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbmQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhcmdzLmN1cnJQYWdlID4gYXJncy50b3RhbFBhZ2UgLSA0ICYmIGFyZ3MuY3VyclBhZ2UgPj0gYXJncy50b3RhbFBhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydC0tO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoOyBzdGFydCA8PSBlbmQ7IHN0YXJ0KyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnQgPD0gYXJncy50b3RhbFBhZ2UgJiYgc3RhcnQgPj0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnQgIT0gYXJncy5jdXJyUGFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxzdWJwYWdlSHRtbCArPSBcIjxsaSBjbGFzcz0nbm9ybWFsJz48YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCk7Jz5cIiArIHN0YXJ0ICsgXCI8L2E+PC9saT5cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsc3VicGFnZUh0bWwgKz0gXCI8bGkgY2xhc3M9J25vcm1hbCBhY3RpdmUnPjxhIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKTsnPlwiICsgc3RhcnQgKyBcIjwvYT48L2xpPlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChhcmdzLmN1cnJQYWdlICsgMiA8IGFyZ3MudG90YWxQYWdlIC0gMSAmJiBhcmdzLmN1cnJQYWdlID49IDEgJiYgYXJncy50b3RhbFBhZ2UgPiA1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWxzdWJwYWdlSHRtbCArPSBcIjxsaT48YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCk7Jz4uLi48L2E+PC9saT5cIjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYXJncy5jdXJyUGFnZSAhPSBhcmdzLnRvdGFsUGFnZSAmJiBhcmdzLmN1cnJQYWdlIDwgYXJncy50b3RhbFBhZ2UgLSAyICYmIGFyZ3MudG90YWxQYWdlICE9IDQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbHN1YnBhZ2VIdG1sICs9IFwiPGxpIGNsYXNzPSdub3JtYWwnPjxhIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKTsnPlwiICsgYXJncy50b3RhbFBhZ2UgKyBcIjwvYT48L2xpPlwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChhcmdzLmN1cnJQYWdlIDwgYXJncy50b3RhbFBhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbHN1YnBhZ2VIdG1sICs9IFwiPGxpIGNsYXNzPSduZXh0Jz48YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCk7Jz4mcmFxdW87PC9hPjwvbGk+XCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkKHRhcmdldCkuZmluZChcIi5wYWdpbmF0aW9uXCIpLmh0bWwodG90YWxzdWJwYWdlSHRtbCk7XHJcbiAgICAgICAgICAgIH0pKHRhcmdldCwgYXJncyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvL+e7keWumuS6i+S7tlxyXG4gICAgICAgIGJpbmRFdmVudDogZnVuY3Rpb24gKHRhcmdldCwgYXJncykge1xyXG4gICAgICAgICAgICByZXR1cm4gKGZ1bmN0aW9uICh0YXJnZXQsIGFyZ3MpIHtcclxuICAgICAgICAgICAgICAgIHRhcmdldC5vbihcImNsaWNrXCIsIFwibGkubm9ybWFsXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gcGFyc2VJbnQoJCh0aGlzKS50ZXh0KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1zLmZpbGxIdG1sKHRhcmdldCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImN1cnJQYWdlXCI6IGN1cnJlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidG90YWxQYWdlXCI6IGFyZ3MudG90YWxQYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZihhcmdzLmJhY2tGbikgPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MuYmFja0ZuKGN1cnJlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy/kuIrkuIDpobVcclxuICAgICAgICAgICAgICAgIHRhcmdldC5vbihcImNsaWNrXCIsIFwibGkucHJldlwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSBwYXJzZUludCgkKHRoaXMpLnBhcmVudCgpLmZpbmQoJ2xpLmFjdGl2ZT5hJykudGV4dCgpKTtcclxuICAgICAgICAgICAgICAgICAgICBtcy5maWxsSHRtbCh0YXJnZXQsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjdXJyUGFnZVwiOiBjdXJyZW50IC0gMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0b3RhbFBhZ2VcIjogYXJncy50b3RhbFBhZ2VcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGFyZ3MuYmFja0ZuKSA9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5iYWNrRm4oY3VycmVudCAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy/kuIvkuIDpobVcclxuICAgICAgICAgICAgICAgIHRhcmdldC5vbihcImNsaWNrXCIsIFwibGkubmV4dFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSBwYXJzZUludCgkKHRoaXMpLnBhcmVudCgpLmZpbmQoJ2xpLmFjdGl2ZT5hJykudGV4dCgpKTtcclxuICAgICAgICAgICAgICAgICAgICBtcy5maWxsSHRtbCh0YXJnZXQsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjdXJyUGFnZVwiOiBjdXJyZW50ICsgMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0b3RhbFBhZ2VcIjogYXJncy50b3RhbFBhZ2VcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGFyZ3MuYmFja0ZuKSA9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5iYWNrRm4oY3VycmVudCArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfSkodGFyZ2V0LCBhcmdzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAkLmZuLmNyZWF0ZVBhZ2UgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgIG1zLmluaXQodGhpcywgb3B0aW9ucyk7XHJcbiAgICB9XHJcbn0pKGpRdWVyeSk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IHNreSBvbiAyMDE3LzYvMjEuXHJcbiAqL1xyXG4vLyDkvb90ZXh0YXJl5pSv5oyB5Zue6L2mXHJcbiQoXCJ0ZXh0YXJlYVwiKS5vbihcclxuICAgICdrZXlkb3duJyxcclxuICAgIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PSA5KSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgdmFyIGluZGVudCA9ICcgICAgJztcclxuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5zZWxlY3Rpb25TdGFydDtcclxuICAgICAgICAgICAgdmFyIGVuZCA9IHRoaXMuc2VsZWN0aW9uRW5kO1xyXG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgc2VsZWN0ZWQgPSBpbmRlbnQgKyBzZWxlY3RlZC5yZXBsYWNlKC9cXG4vZywgJ1xcbicgKyBpbmRlbnQpO1xyXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZS5zdWJzdHJpbmcoMCwgc3RhcnQpICsgc2VsZWN0ZWRcclxuICAgICAgICAgICAgICAgICsgdGhpcy52YWx1ZS5zdWJzdHJpbmcoZW5kKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb25SYW5nZShzdGFydCArIGluZGVudC5sZW5ndGgsIHN0YXJ0XHJcbiAgICAgICAgICAgICAgICArIHNlbGVjdGVkLmxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSkiXX0=
